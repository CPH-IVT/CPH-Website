@{
    ViewData["Title"] = "Create Chart";
}

<div id="Chart">
    <!--Chart name - TODO: UNUSED REGION-->
    @*<div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">Chart Name</span>
            </div>
            <input v-model="chartName" type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
        </div>*@
    <div class="row" v-show="DisplayAggregatePane" v-cloak id="divAggregate">
        <!--Main Chart-->
        <div class="float-container">
            <div class="float-child-chart">
                @*Draw the chart below*@
                <div id="ChartArea" class="col-12"></div>
            </div>
            <!--Legend-->
            <div class="float-legend-div">
                <h5>Location || Percentile</h5>
                <ul v-for="(listItem, index) in legendListItems" class="legendList">
                    <li v-bind:style="{ color: dotColorArray[index]}">{{listItem}}</li>
                </ul>
            </div>
            <!--Full aggregate-->
            <div class="float-child-aggregate-left">
                <h5>All U.S</h5>
                <p id="AggregateAreaFull"><pre>{{resultAggregateColumn}}</pre></p>
            </div>
            <!--Selected aggregate-->
            <div class="float-child-aggregate-right">
                <h5>Selected Regions</h5>
                <p id="AggregateAreaSelected"><pre>{{resultAggregateSelected}}</pre></p>
            </div>
        </div>
    </div>

<div>


    <!--Clear Button-->
    <div class="divBtnClear" v-show="DisplayAggregatePane" v-cloak>
        <button @@click="testFun()" class="btnClear" v-show="DisplayAggregatePane" v-cloak>CLEAR</button>
    </div>



    @* The files are named the year that they represent. *@
    <div class="divYear">
        <!--Select year dropdown-->
        <label class="labelYearSelect" for="Year" v-cloak>Year Select</label>
        <select @@change="setChartAttributes($event)" id="Year" name="Year" v-cloak>
            <option value="SelectYear">Select a Year</option>
            @foreach (var file in (string[])ViewData["Files"])
            {
                <option value="@file">@file</option>
            }
        </select>
    </div>
    <div class="divAttributeFilter" v-cloak>
        <!--Select attribute filter dropdown-->
        <label class="labelAttributeFilter" for="attributeFilter" v-show="displayFilter" v-cloak>Attribute Filter</label>
        <select name="attributeFilter" id="attributeFilter" v-show="displayFilter" v-cloak v-model="filterSelect">
            <option disabled value="">Please select one</option>
            <option v-for="(filterItem, index) in filterAttributeOptions" :key="filterItem" :value="filterItem">
                {{filterItem}}
            </option>
        </select>
    </div>
    <!--county state switch-->
    <span class="countryStateSwtich" v-show="DisplayAggregatePane" v-cloak>
        <label for="counties">Counties</label>
        <label class="switch">
            <input type="checkbox" id="checkbox" v-on:click="countyStateToggle" />
            <span class="slider round"></span>
        </label>
        <label for="states">States</label>
    </span>
    <!--Save/Load-->
    <div class="divRegionSaveLoad" v-cloak>
        <label class="labelRegionSaveLoad" for="regionSaveLoad" v-show="DisplayAggregatePane" v-cloak>Regions</label>
        <select v-model="regionSaveLoadSelect" v-show="DisplayAggregatePane" v-cloak class="regionSaveLoad">
            <option disabled value="">File</option>
            <option value="SAVE">Save</option>
            <option value="LOAD">Load</option>
        </select>
        <input type="file" @@input="readFile($event)" id="readFile" style="display: none;" accept=".txt" />
    </div>
</div>
    <!--Select health attribute list-->
    <div class="row">
        <div class="col-4" v-show="displayHealthAttribute" v-cloak>
            <label for="columns">Health Attributes</label>
            <ul @@click="readHealthAttribute($event)" id="HealthAttrs" style="list-style: none; height: 300px" class="form-control overflow-auto">
            </ul>
        </div>
        <!--Select county or state list-->
        <div class="col-4" v-show="DisplayAggregatePane" v-cloak>
            <span><label for="counties">Locations</label></span>
            <ul @@click="readCountyCheckbox($event)" id="Counties" style="list-style: none; height: 300px" class="form-control overflow-auto"></ul>
        </div>
        <!--Select region - TODO: UNUSED REGION-->
        <div class="col-4" v-show="tempHide" v-cloak>
            <label for="regions">Regions</label>
            <ul @@click="readRegionCheckbox($event)" id="Regions" style="list-style: none; height: 300px" class="form-control overflow-auto">
            </ul>
        </div>
    </div>

    <!--<label for="checkbox">{{ regionSaveLoadSelect }}</label>-->
    <!--Save region button - TODO: UNUSED REGION-->
    <button v-show="tempHide" v-cloak>Save Chart</button>
</div>

@section scripts{
    <script type="module" src="~/js/createChart.js"></script>
}